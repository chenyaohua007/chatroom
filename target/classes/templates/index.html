<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>聊天小程序</title>
    <link th:href="@{/static/layui/css/layui.css}" rel="stylesheet" type="text/css" />
    <link th:href="@{/static/font-awesome/css/font-awesome.min.css}" rel="stylesheet" type="text/css" />
    <script th:src="@{/static/layui/layui.js}"></script>
    <script th:src="@{/static/js/jquery.js}"></script>
    <script th:src="@{/static/chat/js/index.js}"></script>
    <script>
        $(function () {
            //JavaScript代码区域
            layui.use('element', function(){
                var element = layui.element;

            });
            var isShow = true;  //定义一个标志位
            $('.kit-side-fold').on("click",function(){
                //选择出所有的span，并判断是不是hidden
                $('.layui-nav-item span').each(function(){
                    if($(this).is(':hidden')){
                        $(this).show();
                    }else{
                        $(this).hide();
                    }
                });
                //判断isshow的状态
                if(isShow){
                    $('.layui-side.layui-bg-black').width(60); //设置宽度
                    $('.kit-side-fold i').css('margin-right', '70%');  //修改图标的位置
                    //将footer和body的宽度修改
                    $('.layui-body').css('left', 60+'px');
                    $('.layui-footer').css('left', 60+'px');
                    //将二级导航栏隐藏
                    $('dd span').each(function(){
                        $(this).hide();
                    });
                    //修改标志位
                    isShow =false;
                }else{
                    $('.layui-side.layui-bg-black').width(200);
                    $('.kit-side-fold i').css('margin-right', '10%');
                    $('.layui-body').css('left', 200+'px');
                    $('.layui-footer').css('left', 200+'px');
                    $('dd span').each(function(){
                        $(this).show();
                    });
                    isShow =true;
                }
            });
        })


    </script>
</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <div class="layui-logo"><b>聊天小程序</b></div>
        <ul class="layui-nav layui-layout-right">
            <li class="layui-nav-item"><a href="javascript:void(0)" id="mofpwd">修改密码</a></li><li class="layui-nav-item"><button type="button" class="layui-btn" id="checkout">退出登录</button></li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <div title="菜单缩放" class="kit-side-fold" align="center"><i class="fa fa-navicon" aria-hidden="true"></i></div>
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree"  lay-filter="indexlist">
                <li class="layui-nav-item layui-nav-itemed">
                    <a class="" href="javascript:;"><i class="fa fa-envira" aria-hidden="true"></i> <span>在线用户</span></a>
                    <dl class="layui-nav-child" id="pagemenu">
                    </dl>
                </li>
            </ul>
        </div>
    </div>
    <div class="layui-body">
        <iframe id="rightPage" src="/chatroom/chat" width="100%" height="99%" frameborder="0" scrolling="auto" ></iframe>
    </div>

    <div class="layui-footer">
    </div>
</div>
</body>
</html>


